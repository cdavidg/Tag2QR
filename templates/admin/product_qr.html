{% extends "admin/base.html" %}

{% block title %}Código QR - {{ product.name }} - ShopQR Admin{% endblock %}

{% block admin_content %}
<div class="qr-container">
    <div class="qr-header">
        <h2>Código QR para {{ product.name }}</h2>
        <a href="{{ url_for('admin.product_detail', product_id=product.id) }}" class="btn btn-outline">← Volver</a>
    </div>

    <div class="qr-content">
        <div class="qr-display">
            <div class="qr-image">
                <img src="{{ qr_url }}" alt="Código QR para {{ product.name }}">
            </div>
            
            <div class="qr-info">
                <h3>{{ product.name }}</h3>
                <p class="qr-sku">SKU: {{ product.sku }}</p>
                <p class="qr-price">{{ product.price_formatted }}</p>
                <p class="qr-url">
                    <strong>URL:</strong> 
                    <a href="{{ url_for('public.product_view', sku=product.sku) }}" target="_blank">
                        {{ url_for('public.product_view', sku=product.sku, _external=True) }}
                    </a>
                </p>
            </div>
        </div>

        <div class="qr-actions">
            <a href="{{ qr_url }}" download="qr_{{ product.sku }}.png" class="btn btn-primary">
                Descargar QR
            </a>
            <a href="{{ print_url }}" target="_blank" class="btn btn-outline">
                Imprimir Etiqueta
            </a>
            <button onclick="window.print()" class="btn btn-outline">
                Imprimir esta página
            </button>
        </div>
    </div>
</div>

<style>
@media print {
    .admin-header,
    .qr-header .btn,
    .qr-actions {
        display: none !important;
    }
    
    .qr-container {
        max-width: none;
        margin: 0;
        padding: 20px;
    }
    
    .qr-display {
        text-align: center;
    }
    
    .qr-image img {
        width: 200px;
        height: 200px;
    }
}
</style>
{% endblock %}